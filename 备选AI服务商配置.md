# DMXAPI AI服务配置指南

## 概述

本文档提供了DMXAPI AI服务的详细配置说明。DMXAPI是本项目唯一支持的AI服务提供商，提供多种先进的AI模型。

## 当前配置状态

**服务提供商**: DMXAPI ✅ 正常运行  
**默认模型**: gpt-5-mini  
**状态**: 可用

## DMXAPI配置详情

### 支持的AI模型

DMXAPI提供多种先进的AI模型：

1. **gpt-5-mini** (默认推荐)
   - 性能优异，性价比高
   - 适合大多数应用场景
   - 响应速度快

2. **gpt-4o-mini**
   - GPT-4o系列的轻量版
   - 平衡性能和成本
   - 适合复杂任务

3. **gpt-4o**
   - GPT-4o最新版本
   - 最高质量输出
   - 适合高要求场景

4. **claude-3-5-sonnet-20241022**
   - Anthropic Claude模型
   - 擅长分析和推理
   - 适合深度思考任务

5. **gemini-pro**
   - Google Gemini模型
   - 多模态能力强
   - 适合综合应用

### 配置方法

在 `.env` 文件中配置：
```env
DMXAPI_API_KEY=your_dmxapi_api_key_here
DMXAPI_MODEL=gpt-5-mini
```

### 获取API密钥

1. 访问 [DMXAPI官网](https://www.dmxapi.com)
2. 注册账号
3. 获取API密钥
4. 将密钥配置到环境变量中

## 模型切换指南

### 方法1: 通过前端界面切换

1. 登录系统
2. 在AI命题工作台或系统管理页面找到AI模型选择器
3. 点击下拉菜单选择所需模型
4. 系统会自动切换到新模型

### 方法2: 修改环境变量文件

1. 打开 `.env` 文件
2. 修改 `DMXAPI_MODEL` 为目标模型
3. 重启后端服务

```bash
# 停止当前服务
# Ctrl+C

# 重新启动
npm run dev
```

### 方法3: 使用环境变量覆盖

```bash
# 临时切换到GPT-4o
DMXAPI_MODEL=gpt-4o npm run dev

# 临时切换到Claude
DMXAPI_MODEL=claude-3-5-sonnet-20241022 npm run dev
```

## DMXAPI模型性能对比

| 模型 | 响应速度 | 质量 | 性价比 | 适用场景 | 推荐指数 |
|------|----------|------|--------|----------|----------|
| gpt-5-mini | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 通用任务 | ⭐⭐⭐⭐⭐ |
| gpt-4o-mini | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 复杂任务 | ⭐⭐⭐⭐⭐ |
| gpt-4o | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 高质量需求 | ⭐⭐⭐⭐ |
| claude-3-5-sonnet | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 分析推理 | ⭐⭐⭐⭐ |
| gemini-pro | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 多模态 | ⭐⭐⭐⭐ |

## 使用建议

### 模型选择策略

根据不同场景选择合适的模型：

1. **日常使用**: gpt-5-mini (默认推荐)
   - 性价比最高
   - 响应速度快
   - 适合大多数试题生成任务

2. **复杂任务**: gpt-4o-mini
   - 质量更高
   - 适合复杂的分析题
   - 平衡性能和成本

3. **高质量需求**: gpt-4o
   - 最高质量输出
   - 适合重要考试题目
   - 成本较高

4. **特殊场景**:
   - claude-3-5-sonnet: 适合需要深度分析的题目
   - gemini-pro: 适合多模态内容处理

### 成本优化建议

1. **智能模型选择**:
   - 简单题目使用 gpt-5-mini
   - 复杂题目使用 gpt-4o-mini
   - 重要题目使用 gpt-4o

2. **批量生成优化**:
   - 一次生成多道题目
   - 避免频繁的单题生成
   - 合理设置生成间隔
## 监控和维护

### 1. 服务状态监控

```bash
# 运行诊断脚本
node scripts/diagnose-ai-service.js
```

### 2. 成本监控

- 定期检查DMXAPI的使用量
- 设置预算告警
- 分析不同模型的成本效益比

### 3. 质量监控

- 定期评估生成内容质量
- 收集用户反馈
- 根据反馈调整模型选择

## 常见问题

### Q: 如何选择合适的模型？
A: 根据任务复杂度选择：简单任务用gpt-5-mini，复杂任务用gpt-4o-mini，高质量需求用gpt-4o。

### Q: 模型切换后没有生效怎么办？
A: 确认环境变量已更新，并重启后端服务。

### Q: 如何测试DMXAPI是否正常工作？
A: 使用诊断脚本或访问 `/api/ai/status` 接口验证。

### Q: API密钥配置错误怎么办？
A: 检查 `.env` 文件中的 `DMXAPI_API_KEY` 配置，确保密钥正确且有效。

## 总结

DMXAPI提供了丰富的AI模型选择，通过合理配置可以实现：

1. **高质量**: 多种先进模型满足不同需求
2. **成本优化**: 根据任务复杂度选择合适模型
3. **灵活性**: 支持动态模型切换
4. **易用性**: 统一的API接口和配置方式

建议根据实际使用情况定期评估和调整模型选择策略。

---

**维护者**: AI服务团队  
**最后更新**: 2025年1月13日  
**版本**: v2.0 (DMXAPI专用版)